<div class="card-body">
  <div class="d-flex flex-row-reverse pb-3">Total Count: {{ experiment_count }}</div>
  <div class="table-responsive">
    <table class="table tablesorter" id="mainTable">
      <thead class="text-primary">
        <tr>
          <th>Date</th>
          <th>Group</th>
          <th>Name</th>
          <th>Description</th>
          <th>Sample Types</th>
          <th>Tissue Types</th>
          <th>Species</th>
          <th>Boxes</th>
          <th>Created</th>
          <th>Created By</th>
          <th>View</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for experiment in experiments %}
          <tr>
            <td>{{ experiment.date|date:'d M Y' }}</td>
            <td>{{ experiment.get_basic_science_group_display }}</td>
            <td>{{ experiment.name }}</td>
            <td>{{ experiment.description }}</td>
            <td>
              {% for sample_type in experiment.sample_types.all %}
                {{ sample_type.label|default:sample_type.name }}
                {% if not forloop.last %}<br />{% endif %}
              {% endfor %}
            </td>
            <td>
              {% for tissue_type in experiment.tissue_types.all %}
                {{ tissue_type.label|default:tissue_type.name }}
                {% if not forloop.last %}<br />{% endif %}
              {% endfor %}
            </td>
            <td>{{ experiment.get_species_display }}</td>
            <td>
              {% for box in experiment.boxes.all %}
                <a href="{% url 'boxes:detail' box.pk %}">{{ box }}</a>
                {% if not forloop.last %}<br />{% endif %}
              {% endfor %}
            </td>
            <td>{{ experiment.created|date:'d M Y' }}</td>
            <td>{{ experiment.created_by.email }}</td>
            <td>
              <a href="{% url 'boxes:experiment_detail' experiment.pk %}"><i class="tim-icons icon-zoom-split"></i> View</a>
            </td>
            <td>
              <a href="{% url 'boxes:experiment_edit' experiment.pk %}"><i class="tim-icons icon-pencil"></i> Edit</a>
            </td>
            <td>
              {% if experiment.is_deleted %}
                <a href="{% url 'boxes:experiment_restore' experiment.pk %}"><i class="tim-icons icon-refresh-02"></i> Restore</a>
              {% else %}
                <a href="{% url 'boxes:experiment_delete' experiment.pk %}"><i class="tim-icons icon-send align-center"></i> Delete</a>
              {% endif %}
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="12" class="text-center">No experiments found.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% include "layouts/pagination.html" %}
</div>
