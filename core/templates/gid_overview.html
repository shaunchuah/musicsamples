{% extends "layouts/base.html" %} {% block title %} Dashboard {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %} {% block content %}


<div class="row">
  <div class="col">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">All Samples Overview</h3>
      </div>
     
      <div class="card-body">
        
        <div class="table-responsive">
          <table class="table">
          <thead class="text-primary">
            <tr>
              <th>Sample Types against Patient ID </th>
                {% for category in sample_categories %}
                  <th>{{ category.sample_type }}</th>
                {% endfor %}
            </tr>
        </thead>

        <tbody>
          {% for patient in patient_id_list %}
          
          <tr>
            
            <td><strong>{{ patient.patientid }}</strong></td>
            {% for category in sample_categories %}
            <td>
              {% for sample in sample_list %}
                
                {% if sample.patientid == patient.patientid %}

                  {% if sample.sample_type == category.sample_type %}
                  <a href="{% url 'sample_detail' pk=sample.pk %}">
                    {{ sample.musicsampleid }}
                  </a><br />
                  
                  
                  {% endif %}
                
                {% endif %}
              {% endfor %}
            </td>

            {% endfor %}
          </tr>
          
          {% endfor %}
        </tbody>

      </table>
        </div>

        </div>


      </div>
    </div>
  </div>
</div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();
  $("#mainTable").tablesorter({
    sortReset   : true,
    dateFormat : "ddmmyyyy",
    headers: { 5: {sorter: 'shortDate'}, 7: {sorter: false}, 8: {sorter: false}, 9: {sorter: false}, 10: {sorter: false}, 11: {sorter: false} },
  });
});
</script>
{% endblock javascripts %}
